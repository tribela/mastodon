@use 'base';
@use 'light';
@use 'dark';
@use '../../mastodon/theme/light' as mastodon-light;
@use '../../mastodon/theme/dark' as mastodon-dark;
@use '../../mastodon/theme/utils' as utils;

// Apply Retro XP color palette globally
html {
  @include base.palette;
}

// Retro XP uses system theme preference
// Light mode: XP Luna Blue
// Dark mode: XP Black Edition
html[data-user-theme='retroxp'] {
  color-scheme: light dark;

  // Default: Light theme (XP Luna)
  @include mastodon-light.tokens;
  @include utils.invert-on-light;
  @include light.tokens;

  // Dark mode: XP Black Edition
  @media (prefers-color-scheme: dark) {
    @include dark.palette-dark;
    @include mastodon-dark.tokens;
    @include dark.tokens-dark;
  }
}
